
<footer>
    (c) IAQSE 2020
</footer>



<script src="/<%=mountPoint%>/assets/vue/vue.min.js"></script> 
<script src="/<%=mountPoint%>/assets/primevue/components/button/button.umd.min.js"></script>
<script src="/<%=mountPoint%>/assets/primevue/components/inputtext/inputtext.umd.min.js"></script>   
<script src="/<%=mountPoint%>/assets/primevue/components/panel/panel.umd.min.js"></script> 
<script src="/<%=mountPoint%>/assets/primevue/components/menubar/menubar.umd.min.js"></script> 

<script src="/<%=mountPoint%>/assets/primevue/components/toast/toast.umd.min.js"></script> 
<script src="/<%=mountPoint%>/assets/primevue/components/toast/toastservice-patched.js"></script> 
<script src="/<%=mountPoint%>/assets/primevue/components/toast/toast-patched.js"></script> 
<script src="/<%=mountPoint%>/assets/uuidv4.min.js"></script>
<script src="/<%=mountPoint%>/assets/axios.min.js"></script>
<script src="/<%=mountPoint%>/assets/myjdb-browser.js"></script>

<script>
    // Registra components primeVue globals que s'empraran per tot
    Vue.use(ToastService);
    Vue.component('p-inputtext', inputtext);
    Vue.component('p-button', button); 
    Vue.component('p-panel', panel);  
    Vue.component('p-toast', ptoast);
    Vue.component('p-menubar', menubar);

    function menuActionHandler(event) {
        console.log("Click on menu item ", event); 
        console.log("this és: ", this);
        //carrega la nova pàgina
        //location.href = event.item._href;
    }

    function clone(obj) {
        return JSON.parse(JSON.stringify(obj));
    }

    function menuModelBuilder() {
        return [
            {
             label: 'Inici',
             icon: 'pi pi-home',
             _href: '/<%=mountPoint%>/inici',
             command: menuActionHandler
            },
            {
             label: 'Personal', 
             _href: '/<%=mountPoint%>/personal',
             command: menuActionHandler
            },
            {
             label: 'Normativa', 
             _href: '/<%=mountPoint%>/normativa',
             command: menuActionHandler
            },
            {
             label: 'Avaluacions', 
             items: [
                {
                    label: 'Diagnòstic', 
                    _href: '/<%=mountPoint%>/ava-diagnostic',
                    command: menuActionHandler
                },
                {
                    label: 'Final etapa', 
                    _href: '/<%=mountPoint%>/ava-finaletapa',
                    command: menuActionHandler
                },
                {
                    label: 'Internacionals', 
                    _href: '/<%=mountPoint%>/ava-internacionals',
                    command: menuActionHandler
                },
                {
                    label: 'Altres', 
                    _href: '/<%=mountPoint%>/ava-altres',
                    command: menuActionHandler
                }
             ]
            },
            {
                label: 'Publicacions', 
                _href: '/<%=mountPoint%>/publicacions',
                command: menuActionHandler
            },
            {
                label: 'Proves', 
                _href: '/<%=mountPoint%>/proves',
                command: menuActionHandler
            },
            {
                label: 'Enllaços', 
                _href: '/<%=mountPoint%>/enllacos',
                command: menuActionHandler
            },
            {
                icon: 'pi pi-cog',
                _href: '/<%=mountPoint%>/home',
                command: menuActionHandler
            }

        ];
    }
</script>


<script src="/<%=mountPoint%>/assets/require.min.js"></script>
<script> 
// Components que es poden carregar opcionalment mitjançant requirejs
requirejs.config({
    baseUrl: '/<%=mountPoint%>/assets',
    paths: {  
        p_dialog: 'primevue/components/dialog/dialog.umd.min',
        p_calendar: 'primevue/components/calendar/calendar.umd.min',
        p_datatable: 'primevue/components/datatable/datatable.umd.min',
        p_column: 'primevue/components/column/column.umd.min',
        p_editor: 'primevue/components/editor/editor.umd.min',
        p_orderlist: 'primevue/components/orderlist/orderlist.umd.min',
        p_textarea: 'primevue/components/textarea/textarea.umd.min',
        p_togglebutton: 'primevue/components/togglebutton/togglebutton.umd.min',
        p_dropdown: 'primevue/components/dropdown/dropdown.umd.min',
        p_tabview: 'primevue/components/tabview/tabview.umd.min',
        p_tabpanel: 'primevue/components/tabpanel/tabpanel.umd.min'
    } 
});

function check_ids(list) {
    if(!list) {
        return;
    }
    var n = list.length;
    for(var i=0; i<n; i++) {
        if(!list[i].id) {
            list[i].id = uuidv4();
        }
    }
}

function formatDate(d) {
    return d.getDate()  + "/" + (d.getMonth()+1) + "/" + d.getFullYear();
}
</script> 